---
- hosts: localhost
  gather_facts: no
  collections:
    - kubernetes.core
    - operator_sdk.util
  tasks:
    - debug: msg="Running reconcile etcd cluster and Karmada controlplane."
    - meta: end_play
      when: paused is defined and paused == true
    - import_role:
        name: "karmadadeployment"

- hosts: add-member
  gather_facts: no
  collections:
    - kubernetes.core
    - operator_sdk.util
  tasks:
    - debug: msg="Running join member cluster to Karmada."
    - import_role:
        name: "add_karmada_member"

# todo(riverzhang)
# - hosts: delete-member
#  gather_facts: no
#  collections:
#    - kubernetes.core
#    - operator_sdk.util
#  tasks:
#    - debug: msg="Running unjoin member cluster from Karmada."
#    - import_role:
#        name: "del_karmada-member"